# Implementation Plan

- [x] 1. 共通レイアウトとデータ基盤の構築
- [x] 1.1 StaticPageLayout コンポーネントを作成する
  - Header と Footer を含む共通ページ構造を実装する
  - メインコンテンツ領域を中央揃え・最大幅制限（max-w-4xl）のレイアウトで表示する
  - レスポンシブパディングを適用し、モバイル・デスクトップの両方で適切に表示する
  - ダーク/ライトテーマは既存の ThemeProvider から自動継承される
  - async Server Component として実装する（Header が認証状態を取得するため）
  - セマンティックHTML（main 要素）でページ構造を定義する
  - Storybook ストーリーを作成する
  - _Requirements: 5.1, 5.2, 5.3, 5.4_

- [x] 1.2 (P) ドキュメントメタデータ管理モジュールを作成する
  - 7件のドキュメントエントリ（slug, title, order, description）を定数配列として定義する
  - slug からドキュメントエントリを取得する関数を実装する
  - 全 slug の配列を返す関数を実装する（静的生成用）
  - 指定 slug の前後エントリを返す関数を実装する（ナビゲーション用）
  - ユニットテストを作成する（正常系: 各関数の戻り値検証、異常系: 存在しない slug の処理）
  - _Requirements: 3.1, 3.2_

- [x] 2. 法的ページの実装
- [x] 2.1 (P) 利用規約ページを作成する
  - `/terms` ルートで利用規約ページを提供する
  - V2のコンテンツ（第1条 前提〜第6条 準拠法及び裁判管轄、施行日）をJSXで記述する
  - セマンティックHTML（article, h1, h2, ol, li）を適用する
  - SEOメタデータ（title, description）を設定する
  - Server Component として実装し、認証不要でアクセ可能にする
  - StaticPageLayout を使用して共通レイアウトを適用する
  - _Requirements: 1.1, 1.2, 1.3, 1.4, 1.5_

- [x] 2.2 (P) プライバシーポリシーページを作成する
  - `/privacy` ルートでプライバシーポリシーページを提供する
  - V2のコンテンツ（収集する個人情報、利用目的、第三者提供、免責事項、改定について、制定日）をJSXで記述する
  - セマンティックHTML（article, h1, h2, ul, li）を適用する
  - 外部リンク（Google Analytics 関連）に `rel="noopener noreferrer"` と `target="_blank"` を付与する
  - SEOメタデータ（title, description）を設定する
  - Server Component として実装し、認証不要でアクセス可能にする
  - StaticPageLayout を使用して共通レイアウトを適用する
  - _Requirements: 2.1, 2.2, 2.3, 2.4, 2.5_

- [x] 3. ドキュメントナビゲーションコンポーネントの実装
- [x] 3.1 DocNavigation コンポーネントを作成する
  - 全ドキュメントページのリンク一覧を目次として表示する
  - 現在のページをアクティブ状態で視覚的に強調表示する
  - Next.js Link コンポーネントでクライアントサイドナビゲーションを実現する
  - モバイルではコンパクト表示、デスクトップではリスト表示にする
  - Storybook ストーリーを作成する（通常状態、アクティブ状態）
  - _Requirements: 4.1_

- [x] 3.2 (P) DocPagination コンポーネントを作成する
  - 前のページ・次のページへのリンクをカード形式で表示する
  - 「前の記事」「次の記事」のラベルとページタイトルを表示する
  - 最初のページでは「前の記事」カードを非表示にする
  - 最後のページでは「次の記事」カードを非表示にする
  - Next.js Link コンポーネントで遷移を実現する
  - Storybook ストーリーを作成する（両方表示、前のみ、次のみ）
  - ユニットテストを作成する（prev/next の表示・非表示の条件分岐）
  - _Requirements: 4.2, 4.3, 4.4_

- [ ] 4. ドキュメントコンテンツページの実装
- [x] 4.1 ドキュメントページの動的ルーティングとレイアウトを構築する
  - `/docs/[slug]` の動的ルートを作成する
  - generateStaticParams で全ドキュメントページを静的生成する
  - generateMetadata で各ページの動的SEOメタデータを生成する
  - 存在しない slug には notFound() で404ページを表示する
  - StaticPageLayout、DocNavigation、DocPagination を統合する
  - slug に対応するコンテンツコンポーネントをマッピングして動的レンダリングする
  - _Requirements: 3.1, 3.3, 3.5_

- [x] 4.2 ドキュメントコンテンツを作成する（基本的な使い方、ログイン、Botの招待）
  - 「基本的な使い方」ページのコンテンツを作成する（導入までの3STEPの説明）
  - 「ログイン」ページのコンテンツを作成する（Discord OAuth 連携手順）
  - 「Botの招待」ページのコンテンツを作成する（サーバーへのBot追加手順）
  - V2のコンテンツを参考にしつつ、現行UIに合わせた説明に更新する
  - スクリーンショット画像がある場合は Next.js Image コンポーネントで表示する
  - _Requirements: 3.2, 3.4_

- [x] 4.3 (P) ドキュメントコンテンツを作成する（初期設定、予定の追加と表示、予定の編集と削除、コマンド）
  - 「初期設定」ページのコンテンツを作成する（/init コマンドの使い方）
  - 「予定の追加と表示」ページのコンテンツを作成する（カレンダー操作、新規作成）
  - 「予定の編集と削除」ページのコンテンツを作成する（右クリック編集、削除）
  - 「利用可能なコマンド」ページのコンテンツを作成する（/init, /list, /create, /help, /invite）
  - V2のコンテンツを参考にしつつ、現行UIに合わせた説明に更新する
  - スクリーンショット画像がある場合は Next.js Image コンポーネントで表示する
  - _Requirements: 3.2, 3.4_

- [ ] 5. フッターリンク更新と統合
- [ ] 5.1 フッターのリンクを実ページへ更新する
  - 「利用規約」リンクの href を `/terms` に変更する
  - 「プライバシーポリシー」リンクの href を `/privacy` に変更する
  - 「ドキュメント」リンクを新規追加し `/docs/getting-started` へのリンクとする
  - `<a>` タグを Next.js Link コンポーネントに置換してクライアントサイドナビゲーションを実現する
  - 既存の Footer テストがある場合は更新する
  - _Requirements: 6.1, 6.2, 6.3_

- [ ]* 6. テストカバレッジの追加
- [ ]* 6.1 (P) 法的ページのレンダリングテストを作成する
  - 利用規約ページのレンダリングとコンテンツ（タイトル、条文見出し）の存在を検証する
  - プライバシーポリシーページのレンダリングとコンテンツ（タイトル、セクション見出し）の存在を検証する
  - SEOメタデータの設定を確認する
  - _Requirements: 1.1, 1.2, 1.4, 1.5, 2.1, 2.2, 2.4, 2.5_

- [ ]* 6.2 (P) ドキュメントページのレンダリングテストを作成する
  - 各 slug でのドキュメントページレンダリングを検証する
  - 目次ナビゲーションの表示を確認する
  - 前後ページ送りリンクの表示・非表示を検証する
  - 存在しない slug で 404 が返されることを確認する
  - _Requirements: 3.1, 3.3, 3.4, 4.1, 4.2, 4.3, 4.4_

- [ ]* 6.3 (P) フッターリンク遷移の E2E テストを作成する
  - フッターの利用規約リンクから `/terms` への遷移を検証する
  - フッターのプライバシーポリシーリンクから `/privacy` への遷移を検証する
  - フッターのドキュメントリンクから `/docs/getting-started` への遷移を検証する
  - ドキュメントページの前後ナビゲーション操作を検証する
  - _Requirements: 6.1, 6.2, 6.3_
